{% extends 'base/base.html' %}

{% block content %}
<!-- comentario de lo que sea -->
{% load static from staticfiles %}
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <link rel="stylesheet" href="{% static "normalize.css" %}" />
    <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="{% static "estilos.css" %}" />
    <link rel="stylesheet" href="{% static "responsive.css" %}" />
    <link rel="stylesheet" href="{% static "dataTables.bootstrap.min.css" %}"/>
    <link rel="stylesheet" href="{% static "dataTables.checkboxes.css" %}"/>

</head>
<body>

        <form class="PedidoEditForm" method="POST">
        <h3>Solicite pedido para: <b>{{ especialidad.nombre }}</b></h3>
        <table id="example" class="table table-border table-striped table-hover">
            <thead>
                <tr> 
                    <td></td> 
                    <td>Cod experto</td>
                    <td>Nombre</td>
                    <td>Cantidad</td>
                    <td></td>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <td></td>
                    <td>Cod experto</td>
                    <td>Nombre</td>
                    <td></td>
                    <td></td>
                </tr>
            </tfoot>

<div class="modal fade " id="modal_ingresar" tabindex="-1" role="dialog" aria-labelledby="important-msg-label" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span></button>
            <h4 class="modal-title" id="important-msg-label">Ingrese cantidad</h4>
          </div>
          <div class="modal-body">
            <p>Para {{ pedido.articulo.nombre }}:</p>
            {% csrf_token %}
            {{form.as_p}}
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <input type="submit" class= "btn btn-primary" value="Guardar">
          </div>
        </div>
      </div>
    </div>
            <tbody>
                {% if pedido  %}
                {% for ped in pedido %}
                

                <tr>
                    <td><input type="text" name="pedido" value="{{ ped.articulo.cod_experto }}"></td> 
                    <td>{{ ped.articulo.cod_experto }}</td>
                    <td>{{ ped.articulo.nombre }}</td>
                    <td><a data-toggle="modal" href="#modal_ingresar" class="btn btn-primary btn-large">Ingresar</a></td>
                    <td>{{ cod_experto }}</td>




                </tr>
            
                {% endfor %}
                {% endif %}

            </tbody>
        </table>
        <button onClick="contar();"/>Info InpuText</button>
        </form>

</section>
</body>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="{% static "js/bootstrap.min.js" %}"></script>
    <script src="{% static "js/jquery.dataTables.min.js" %}"></script>
    <script src="{% static "js/dataTables.bootstrap.min.js" %}"></script>
    <script src="{% static "js/jquery.form.min.js" %}"></script>


<script>
    //Start the DOM ready
    $( document ).ready(function() {


        //CODE NEEDED FOR THE IMPORTANT MESSAGE MODAL POPUP

            //Check to see if the cookie exists for the Don't show again option
            if (!$.cookie('focusmsg')) {
                //Launch the modal when you first visit the site            
                $('#important-msg').modal('show');
            }

            //Don't show again mouse click
            $("#dont-show-again").click( function() {

                //Create a cookie that lasts 14 days
                $.cookie('focusmsg', '1', { expires: 14 });     
                $('#important-msg').modal('hide');      

            }); //end the click function for don't show again

        //END CODE NEEDED FOR THE IMPORTANT MESSAGE MODAL POPUP


    }); //End the DOM ready
</script>
    

    <script>
$(document).ready(function (){
   var table = $('#example').DataTable({
  
      'columnDefs': [
         {
            'targets': 0,
         }
      ],
   });

   table.column(0).every( function () {

    var column = this;
    var select = $('')
      .appendTo($(column.footer()).empty())
      .on('change', function() {
        var val = $.fn.dataTable.util.escapeRegex(
          $(this).val()
        );

        column
          .search(val ? '^' + val + '$' : '', true, false)
          .draw();
      });

    column.data().unique().sort().each(function(d, j) {
      select.append('<option value="' + d + '">' + d + '</option>')
    });

});

});

  </script>




{% endblock%}